# Student Record Management System with B-Tree Indexing

This C program implements a simple student record management system. It allows users to insert, search, list, modify, and logically remove student records. The system utilizes a B-Tree to index student records by their ID for efficient data retrieval. Student data is stored in a text file (`dados.txt`), and the B-Tree index is persisted in a binary file (`indice.idx`).

## Features

* **Insert Student:** Add new student records with ID, name, course, year, and period.
* **Search Student:** Find and display student records by their unique ID.
* **List Students:** Display all active (not logically removed) student records.
* **Modify Student:** Update the details of an existing student.
* **Remove Student (Logical):** Mark a student record as "removed." The record remains in the data file but is filtered out during listing and searching for active students.
* **B-Tree Indexing:** Employs a B-Tree of a predefined `ORDEM` to store (ID, file_offset) pairs, enabling fast lookups.
* **Data Persistence:**
    * Student records are stored in `dados.txt` in a pipe-delimited text format.
    * The B-Tree index is saved to `indice.idx` in binary format.
* **Duplicate ID Prevention:** Ensures that no two active students have the same ID.
* **Index Reconstruction:** On startup and after modifications that alter data file offsets (like `modificarAluno`), the B-Tree index is rebuilt from the primary data file (`dados.txt`) to ensure consistency.

## File Structure

* `student_manager.c`: (Or your C source file name) The main source code file containing all logic.
* `dados.txt`: Text file where student records are stored, one per line, with fields separated by pipes (`|`).
    * Format: `id|nome|curso|ano|removido_flag|periodo|`
* `indice.idx`: Binary file that stores the B-Tree structure for fast indexing. This file is automatically generated/updated.

## Data Structures

### `struct Aluno`

```c
typedef struct Aluno {
    int id;
    char nome[100];
    char curso[100];
    int ano;
    int removido; // 0 = active, 1 = logically removed
    int periodo;
} Aluno;

struct BTreeNode

typedef struct BTreeNode {
    int folha;                     // 1 if leaf, 0 if internal node
    int n;                         // Current number of keys
    int chaves[2 * ORDEM - 1];     // Array of student IDs (keys)
    long offsets[2 * ORDEM - 1];   // File offsets in dados.txt for corresponding keys
    struct BTreeNode *filhos[2 * ORDEM]; // Pointers to child nodes
} BTreeNode;